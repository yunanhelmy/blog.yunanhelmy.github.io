<div class="medium-3 small-12 large-3 columns post-sidebar ">
  {% assign hasSimilar = '' %}
  {% for post in site.related_posts %}
      {% assign postHasSimilar = false %}
      {% for tag in post.tags %}
          {% for thisTag in page.tags %}
              {% if postHasSimilar == false and hasSimilar.size < 6 and post != page and tag == thisTag %}
                  {% if hasSimilar.size == 0 %}
                  <p>You might also want to read :</p>
                  <ul>
                  {% endif %}
                  <li>
                      <a class="related_link" href="{{ site.url }}{{ post.url }}">
                        {{ post.title }}
                      </a>
                  </li>
                  {% capture hasSimilar %}{{ hasSimilar }}*{% endcapture %}
                  {% assign postHasSimilar = true %}
              {% endif %}
          {% endfor %}
      {% endfor %}
  {% endfor %}
  {% if hasSimilar.size > 0 %}
      </ul>
  {% endif %}
</div>